(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{145:function(t,e,r){"use strict";var n=r(203);e.a=function(t){var e=t.store;window.onNuxtReady((function(){Object(n.a)({key:"markdownEditor",storage:window.sessionStorage})(e)}))}},185:function(t,e,r){var content=r(241);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(21).default)("6570a8f6",content,!0,{sourceMap:!1})},187:function(t,e,r){var content=r(253);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(21).default)("56b15182",content,!0,{sourceMap:!1})},205:function(t,e,r){"use strict";var n={data:function(){return{clipped:!1,title:"Markdown Editor"}},methods:{back:function(){this.$router.push("/")}}},o=(r(252),r(75)),c=r(96),d=r.n(c),f=r(293),l=r(298),m=r(299),v=r(294),h=r(295),x=r(296),w=r(297),k=r(202),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-app-bar",{attrs:{dark:"",color:"orange","clipped-left":t.clipped,fixed:"",app:""}},[r("v-icon",{staticClass:"mx-2",on:{click:t.back}},[t._v("mdi-cloud-outline")]),t._v(" "),r("v-toolbar-title",{domProps:{textContent:t._s(t.title)},on:{click:t.back}}),t._v(" "),r("v-spacer")],1),t._v(" "),r("v-main",[r("v-container",[r("nuxt")],1)],1),t._v(" "),r("v-footer",{attrs:{dark:"",color:"orange",app:""}},[r("span",[t._v("Â© 2021 MarkingCloud")])])],1)}),[],!1,null,null,null);e.a=component.exports;d()(component,{VApp:f.a,VAppBar:l.a,VContainer:m.a,VFooter:v.a,VIcon:h.a,VMain:x.a,VSpacer:w.a,VToolbarTitle:k.a})},214:function(t,e,r){r(215),t.exports=r(216)},240:function(t,e,r){"use strict";r(185)},241:function(t,e,r){var n=r(20)(!1);n.push([t.i,"h1[data-v-495dc2cf]{font-size:20px}",""]),t.exports=n},252:function(t,e,r){"use strict";r(187)},253:function(t,e,r){var n=r(20)(!1);n.push([t.i,"*{font-family:auto}",""]),t.exports=n},284:function(t,e,r){"use strict";r.r(e),r.d(e,"state",(function(){return o})),r.d(e,"mutations",(function(){return c})),r.d(e,"actions",(function(){return d}));var n=r(5),o=(r(49),r(97),r(285),r(184),r(13),function(){return{list:[]}}),c={save:function(t,e){var r=e.id,data=e.data,n=t.list.find((function(t){return t.id===r}));n?n.data=data:t.list.push({id:r,data:data})},sort:function(t){t.list.sort((function(a,b){return new Date(b.data.timestamp)-new Date(a.data.timestamp)}))},add:function(t,e){var r=e.id,data=e.data;t.list.push({id:r,data:data})},remove:function(t,e){var r=t.list.findIndex((function(t){return t.id===e}));t.list.splice(r,1)},reset:function(t){sessionStorage.removeItem("markdownEditor"),t.list=[]}},d={checkListLatest:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,c,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JSON.parse(sessionStorage.getItem("markdownEditor")).memos.list;case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,r.reduce((function(a,b){return new Date(a.data.timestamp)>new Date(b.data.timestamp)?a:b}));case 7:return n=e.sent,o=n.data.timestamp,c=t.$fire.firestore.collection("markdowns").orderBy("timestamp","desc").limit(1),d=new Date,e.prev=11,e.next=14,c.get();case 14:return f=e.sent,e.next=17,f.forEach((function(t){d=t.data().timestamp}));case 17:e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(11),alert(e.t0),e.abrupt("return");case 23:if(!(new Date(o)<new Date(d))){e.next=27;break}return e.abrupt("return",!1);case 27:return e.abrupt("return",!0);case 28:case"end":return e.stop()}}),e,null,[[11,19]])})))()},readDB:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.dispatch("checkListLatest");case 2:if(!0!==r.sent){r.next=5;break}return r.abrupt("return");case 5:return r.next=7,t.commit("reset");case 7:return n=e.$fire.firestore.collection("markdowns").orderBy("timestamp","desc"),r.prev=8,r.next=11,n.get();case 11:r.sent.forEach((function(e){t.commit("add",{id:e.id,data:e.data()})})),r.next=18;break;case 15:r.prev=15,r.t0=r.catch(8),alert(r.t0);case 18:case"end":return r.stop()}}),r,null,[[8,15]])})))()},listenDB:function(t){var e=this.$fire.firestore.collection("markdowns").orderBy("timestamp","desc").limit(1);try{e.onSnapshot(function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.forEach((function(e){t.commit("save",{id:e.id,data:e.data()})}));case 2:t.commit("sort");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(t){alert(t)}},saveDB:function(t,e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var o,c,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.saveId,c=e.saveData,n.next=3,t.commit("save",{id:o,data:c});case 3:d=r.$fire.firestore.collection("markdowns").doc(o);try{d.set({text:c.text,title:c.title,timestamp:c.timestamp})}catch(t){alert(t)}case 5:case"end":return n.stop()}}),n)})))()},removeDB:function(t,e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.commit("remove",e);case 2:o=r.$fire.firestore.collection("markdowns").doc(e);try{o.delete()}catch(t){alert(t)}case 4:case"end":return n.stop()}}),n)})))()}}},66:function(t,e,r){"use strict";var n={layout:"empty",props:{error:{type:Object,default:null}},data:function(){return{pageNotFound:"404 Not Found",otherError:"An error occurred"}},head:function(){return{title:404===this.error.statusCode?this.pageNotFound:this.otherError}}},o=(r(240),r(75)),c=r(96),d=r.n(c),f=r(293),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{dark:""}},[404===t.error.statusCode?r("h1",[t._v("\n    "+t._s(t.pageNotFound)+"\n  ")]):r("h1",[t._v("\n    "+t._s(t.otherError)+"\n  ")]),t._v(" "),r("NuxtLink",{attrs:{to:"/"}},[t._v(" Home page ")])],1)}),[],!1,null,"495dc2cf",null);e.a=component.exports;d()(component,{VApp:f.a})}},[[214,13,6,14]]]);